
## 为什么需要构架工具

- 各种语法转化：typescript，es6/+，CSS前缀/预编译器
- 代码压缩混淆
- 图片压缩

## 发展历程
- [ant yui tool](https://github.com/yui/yuicompressor/) 最早雅虎出品的js和css压缩器，基于java。淘汰了
- [grunt](https://www.gruntjs.net/getting-started) 基于task任务和initConfig插件配置，创建整个的构建流程。中间task生成的是在硬盘中，性能比较差，异步是通过事件通知。
- [fis3](http://fis.baidu.com/) 百度开源的构建工具。
- [gulp](https://www.gulpjs.com.cn/) 基于pipe模式和流，构建过程并不会把文件立刻写入磁盘，构建速度优化。
- [webpack](https://webpack.docschina.org/) 强大的资源打包器，文件即模块，最终可以很多的小的bundejs，支持按需加载，webpack3以后也支持了tree shaking，比较适合做完整的产品。
- [rollup](https://www.rollupjs.com/) : 模块打包工具，基于es模块加载机制，最终会讲代码合并到一个函数作用域下，tree shaking做的比较好，适合写js工具类或者库。
- [parcel](https://www.parceljs.cn/)：0配置，各种js、css、热更新、代码分割开箱即用。打包基于web worker，文件缓存，打包构建比较快

## 为什么选webpack

![image-20210823084704311](/Users/bingyang/Documents/Project/daydayup/webpack/images/image-20210823084704311.png)

- 社区生态丰富
- 配置灵活
- 官方迭代速度快

## 功能

- 核心功能：一个静态资源打包器。At its core, webpack is a static module bundler for modern JavaScript applications.
- 模块打包
- 代码分割
- 按需加载
- sourceMap
- tree shaking
- module federation
- DeveServer
- DLL
- 多进程
- HMR Hot Module Replacement
- 文件监听

## 安装



安装 nvm（https://github.com/nvm-sh/nvm）

- 通过 curl 安装：`curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.34.0/install.sh | bash`

- 通过 wget 安装：`wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.34.0/install.sh | bash`

环境：node + npm：

项目内安装webpack环境：

- `npm install webpack webpack-cli --save-dev`

- 检查是否安装成功：./node_modules/.bin/webpack -v

## Webpack初体验：⼀个最简单的例⼦
## 通过 npm script 运⾏ webpack
- 通过 npm run build 运⾏构建
- 原理：模块局部安装会在 node_modules/.bin
⽬录创建软链接
```json
{
  "name": "hello-webpack",
  "version": "1.0.0",
  "description": "Hello webpack",
  "main": "index.js",
  "scripts": {
    "build": "webpack"
  },
  "keywords": [],
  "author": "",
  "license": "ISC"
}
```
